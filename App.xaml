<Application x:Class="WindowsTweaks.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">

    <Application.Resources>
        <ResourceDictionary>

            <!-- ===== Цветовая схема (Dark Theme) ===== -->

            <SolidColorBrush x:Key="BackgroundBrush" Color="#1E1E1E"/>
            <SolidColorBrush x:Key="SurfaceBrush" Color="#252526"/>

            <!-- Акцент (можно менять всю тему одним цветом) -->
            <SolidColorBrush x:Key="PrimaryBrush" Color="#4CAF50"/>
            <SolidColorBrush x:Key="PrimaryHoverBrush" Color="#43A047"/>
            <SolidColorBrush x:Key="PrimaryPressedBrush" Color="#388E3C"/>

            <!-- Текст -->
            <SolidColorBrush x:Key="TextBrush" Color="#FFFFFF"/>
            <SolidColorBrush x:Key="SecondaryTextBrush" Color="#B0B0B0"/>

            <!-- Границы / Ховер -->
            <SolidColorBrush x:Key="BorderBrush" Color="#3F3F46"/>
            <SolidColorBrush x:Key="HoverBrush" Color="#2E4A2E"/>


            <!-- ===== Кнопка ===== -->

            <Style x:Key="ModernButton" TargetType="Button">

                <Setter Property="Background"
                        Value="{StaticResource PrimaryBrush}"/>

                <Setter Property="Foreground"
                        Value="{StaticResource TextBrush}"/>

                <Setter Property="BorderThickness"
                        Value="0"/>

                <Setter Property="Padding"
                        Value="16,9"/>

                <Setter Property="FontSize"
                        Value="14"/>

                <Setter Property="FontWeight"
                        Value="SemiBold"/>

                <Setter Property="Cursor"
                        Value="Hand"/>

                <Setter Property="FocusVisualStyle"
                        Value="{x:Null}"/>


                <Setter Property="Template">
                    <Setter.Value>

                        <ControlTemplate TargetType="Button">

                            <Border x:Name="border"
                                    Background="{TemplateBinding Background}"
                                    CornerRadius="6"
                                    Padding="{TemplateBinding Padding}">

                                <ContentPresenter
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"/>

                            </Border>


                            <ControlTemplate.Triggers>

                                <!-- Наведение -->
                                <Trigger Property="IsMouseOver"
                                         Value="True">

                                    <Setter TargetName="border"
                                            Property="Background"
                                            Value="{StaticResource PrimaryHoverBrush}"/>

                                </Trigger>


                                <!-- Нажатие -->
                                <Trigger Property="IsPressed"
                                         Value="True">

                                    <Setter TargetName="border"
                                            Property="Background"
                                            Value="{StaticResource PrimaryPressedBrush}"/>

                                </Trigger>


                                <!-- Отключена -->
                                <Trigger Property="IsEnabled"
                                         Value="False">

                                    <Setter TargetName="border"
                                            Property="Opacity"
                                            Value="0.5"/>

                                </Trigger>

                            </ControlTemplate.Triggers>

                        </ControlTemplate>

                    </Setter.Value>
                </Setter>

            </Style>


            <!-- ===== НОВЫЙ СТИЛЬ CheckBox БЕЗ ЧЕРНЫХ КВАДРАТИКОВ ===== -->

            <Style x:Key="ModernCheckBox" TargetType="CheckBox">
                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="Cursor" Value="Hand"/>
                <Setter Property="Margin" Value="0,3,0,3"/>
                <Setter Property="Padding" Value="6,3"/>
                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="CheckBox">
                            <Border Background="Transparent"
                                    BorderThickness="0"
                                    Padding="{TemplateBinding Padding}"
                                    CornerRadius="4">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Кастомный чекбокс -->
                                    <Border x:Name="CheckBoxBorder"
                                            Grid.Column="0"
                                            Width="20"
                                            Height="20"
                                            Background="#2D2D30"
                                            BorderBrush="#4CAF50"
                                            BorderThickness="2"
                                            CornerRadius="4"
                                            VerticalAlignment="Center"
                                            Margin="0,0,10,0">
                                        <Grid>
                                            <!-- Галочка -->
                                            <Path x:Name="CheckMark"
                                                  Data="M 0,5 L 4,9 L 10,0"
                                                  Stroke="#4CAF50"
                                                  StrokeThickness="2.5"
                                                  StrokeStartLineCap="Round"
                                                  StrokeEndLineCap="Round"
                                                  StrokeLineJoin="Round"
                                                  Visibility="Collapsed"
                                                  Margin="3"/>
                                        </Grid>
                                    </Border>

                                    <!-- Текст -->
                                    <ContentPresenter Grid.Column="1"
                                                     VerticalAlignment="Center"
                                                     HorizontalAlignment="Left"
                                                     RecognizesAccessKey="True"/>
                                </Grid>
                            </Border>

                            <ControlTemplate.Triggers>
                                <!-- Отмечен -->
                                <Trigger Property="IsChecked" Value="True">
                                    <Setter TargetName="CheckMark" Property="Visibility" Value="Visible"/>
                                    <Setter TargetName="CheckBoxBorder" Property="Background" Value="#388E3C"/>
                                </Trigger>

                                <!-- Наведение -->
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="CheckBoxBorder" Property="BorderBrush" Value="#66BB6A"/>
                                    <Setter TargetName="CheckBoxBorder" Property="Background" Value="#353535"/>
                                </Trigger>

                                <!-- Наведение + Отмечен -->
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsMouseOver" Value="True"/>
                                        <Condition Property="IsChecked" Value="True"/>
                                    </MultiTrigger.Conditions>
                                    <Setter TargetName="CheckBoxBorder" Property="Background" Value="#43A047"/>
                                </MultiTrigger>

                                <!-- Отключен -->
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter Property="Opacity" Value="0.5"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>


        </ResourceDictionary>
    </Application.Resources>

</Application>
